http {
    server {
        listen 127.0.0.1 8080;  # INVALID: missing ':' between IP and port

        server_name;  # INVALID: missing value for server_name

        error_page 404 errors/404.html;  # INVALID: missing leading slash in path

        client_max_body_size twoM;  # INVALID: size not specified in valid format (should be like 2M)

        location / {
            root;  # INVALID: root directive missing path
            index index.html index.htm
        }  # INVALID: missing semicolon after index directive

        location /old-page {
            return http://localhost:8080/new-page;  # INVALID: missing status code (e.g., 301)
        }

        location /public/ {
            root /var/www/public;
            autoindex maybe;  # INVALID: autoindex only accepts 'on' or 'off'
        }

        location /api/ {
            root /var/www/api;
            limit_except GET POST  # INVALID: missing opening '{' for limit_except block
                deny all;
            }  # INVALID: mismatched closing brace
        }

        location /upload/ {
            root /var/www/uploads;
            upload_store;  # INVALID: missing path
            limit_except;  # INVALID: no method specified
        }

        location /cgi-bin/ {
            root /var/www/cgi-bin;
            cgi_pass;  # INVALID: no CGI binary specified
            cgi_ext py;  # INVALID: missing dot, should be .py
        }

        location /php/ {
            root /var/www/php;
            cgi_pass /usr/bin/php-cgi;
            cgi_ext .php;
        }

        location /errors/ {
            root /var/www;
        }
    }

    server {
        listen:8081;  # INVALID: malformed listen directive

        server_name mysite.com

        error_page 404 /errors/404.html;

        location / {
            root /var/www/mysite
            index home.html;  # INVALID: missing semicolon on 'root' above
        }

        location /upload/ {
            root /var/www/mysite/uploads;
            upload_store /var/www/mysite/uploads;
            limit_except POST {
                allow all  # INVALID: missing semicolon
        }
    }
}
